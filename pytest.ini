[pytest]
minversion = 6.0
addopts = -ra -q --strict-markers --tb=short
testpaths = tests
python_files = tests.py test_*.py *_tests.py
python_classes = Test*
python_functions = test_*

# Disable assertion rewriting for specific modules that cause warnings
norecursedirs = .git .tox .env venv .venv
filterwarnings =
    # Ignore the specific PytestAssertRewriteWarning for the anyio module
    ignore:Module already imported so cannot be rewritten.*anyio:pytest.PytestAssertRewriteWarning

# Custom markers for test categorization
markers =
    unit: Unit tests (fast, isolated)
    integration: Integration tests (slower, require database)
    slow: Slow-running tests that may take several seconds
    api: Tests related to API endpoints
    cli: Tests related to CLI commands
    models: Tests related to database models
    services: Tests related to service layer
    tasks: Tests related to Celery tasks
    auth: Tests related to authentication/authorization
    smoke: Smoke tests for basic functionality
    regression: Regression tests for bug fixes